{# templates/pieza/form.html.twig #}
{% extends 'base.html.twig' %}

{% set es_edicion = es_edicion is defined and es_edicion %}
{% set page_title = es_edicion ? 'Editar Pieza' : 'Crear Nueva Pieza' %}

{% block title %}{{ page_title }}{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1>{{ page_title }}</h1>

        <div class="card p-4 bg-light shadow-sm">
            {{ form_start(formulario) }}
                {{ form_widget(formulario) }}
                {# Los botones se renderizan aquí automáticamente #}
            {{ form_end(formulario) }}
        </div>

        <div class="mt-3">
            {% if es_edicion %}
                <a href="{{ path('ficha_pieza', {'id': pieza.id}) }}" class="btn btn-secondary">Cancelar</a>
            {% else %}
                <a href="{{ path('lista_piezas') }}" class="btn btn-secondary">Volver al listado</a>
            {% endif %}
        </div>
    </div>
{% endblock %}